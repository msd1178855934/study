<view class="feed-list">
    <view class="hot-list-main default-border-bottom" wx:if="{{feiyan_data||epidemicList.length>0}}">
        <view class="panel">
            <view class="hot-list-info">
                <text class="hot-list-title ellipsis-1">肺炎疫情专区</text>
            </view>
            <epidemic-info-panel feiyan_data="{{feiyan_data}}" wx:if="{{feiyan_data}}"></epidemic-info-panel>
            <epidemic-server-panel virus_group_info="{{virus_group_info}}" wx:if="{{virus_group_info.length>0}}"></epidemic-server-panel>
            <view class="epidemic-feed-panel thin-border-top" wx:if="{{epidemicList.length>0}}">
                <view class="panel-title">疫情热门信息</view>
                <view style="height: 112px; padding-top: 4px;">
                    <hot-feed-card bind:longpress="handleLongpressEpidemicItem" bind:tap="clickEpidemicItem" data-hot-list="{{true}}" data-index="{{index}}" data-recommend_id="{{item.recommend_id}}" id="{{'epidemicList'+index}}" index="{{index}}" item="{{item}}" listLength="{{epidemicList.length}}" withImg="{{false}}" wx:for="{{epidemicList}}" wx:key="{{item.recommend_id}}"></hot-feed-card>
                </view>
            </view>
            <view bind:tap="goEpidemicFeedsPage" class="panel-bottom thin-border-top" wx:if="{{epidemicList.length>0}}">
                <text class="tip">更多疫情信息</text>
                <view class="arrow">
                    <image class="img svg" src="/resources/icons_outlined_arrow.svg"></image>
                    <image class="img svg darkmode" src="/resources/darkmode/icons_outlined_arrow.svg"></image>
                </view>
            </view>
        </view>
    </view>
    <view class="hot-list-main default-border-bottom" wx:if="{{topHotList.length>0}}">
        <view class="panel">
            <view class="hot-list-info">
                <text class="hot-list-title ellipsis-1">实时热榜</text>
                <text class="hot-list-tip ellipsis-1">每小时更新</text>
            </view>
            <view class="hot-feed-list-wrp">
                <view bind:longpress="handleLongPress" bind:tap="clickHotListItem" class="hot-feed-item" data-hot-list="{{true}}" data-index="{{index}}" data-recommend_id="{{item.recommend_id}}" id="{{'hotlist'+index}}" wx:for="{{topHotList}}" wx:key="{{item.recommend_id}}">
                    <image class="img image-bg" lazyLoad="{{true}}" mode="aspectFill" src="{{item.content_image}}"></image>
                    <view class="title ellipsis-2">{{item.content_desc}}</view>
                    <view class="tip">{{item.app_nick_name}}</view>
                </view>
            </view>
            <view bind:tap="goAllHotList" class="panel-bottom thin-border-top">
                <text class="tip" id="goAllHotList">查看全部</text>
                <view class="arrow">
                    <image class="img svg" src="/resources/icons_outlined_arrow.svg"></image>
                    <image class="img svg darkmode" src="/resources/darkmode/icons_outlined_arrow.svg"></image>
                </view>
            </view>
        </view>
    </view>
    <block wx:for="{{homeFeedsList}}" wx:key="{{item.recommendId}}">
        <app-card-article appLogo="{{item.appLogo}}" appName="{{item.appName}}" bind:captureClickCard="handleClickCardBody" bind:handleClickCardBody="handleClickCardBody" bind:handleClickLike="handleClickLike" bind:handleClickMore="handleClickMore" bind:longpress="handleLongPress" bind:onLoadimageError="onLoadimageError" bind:toProfile="toProfile" contentImg="{{item.contentImg}}" contentText="{{item.contentText}}" content_image_list="{{item.content_image_list}}" data-index="{{index}}" hasLike="{{item.dynamic_info.has_like}}" id="{{item.formatedRecommendId}}" isVideo="{{item.card_type===3}}" likeCount="{{item.dynamic_info.like_count}}" recommendReason="{{item.recommendReason}}" recommend_reason_type="{{item.recommend_reason_type}}" social_like_info="{{item.social_like_info}}" textLink="{{item.dynamic_info.text_link}}" wx:if="{{!item.deleted&&(item.card_type===1||item.card_type===3||item.card_type===5||item.card_type===7)}}"></app-card-article>
        <app-card-post-video appLogo="{{item.appLogo}}" appName="{{item.appName}}" bind:captureClickCard="handleClickCardBody" bind:handleClickCardBody="handleClickCardBody" bind:handleClickLike="handleClickLike" bind:handleClickMore="handleClickMore" bind:handlePauseVideo="handlePauseVideo" bind:handlePlayVideo="handlePlayVideo" bind:longpress="handleLongPress" bind:onLoadimageError="onLoadimageError" bind:toProfile="toProfile" contentImg="{{item.dynamic_info.item_list[0].shot_img_url}}" contentText="{{item.contentText}}" data-index="{{index}}" hasLike="{{item.dynamic_info.has_like}}" id="{{item.formatedRecommendId}}" likeCount="{{item.dynamic_info.like_count}}" recommendReason="{{item.recommendReason}}" recommend_reason_type="{{item.recommend_reason_type}}" social_like_info="{{item.social_like_info}}" textLink="{{item.dynamic_info.text_link}}" videoUrl="{{item.dynamic_info.item_list[0].video_url||item.dynamic_info.item_list[0].vedio_url}}" wx:if="{{!item.deleted&&item.card_type===8}}"></app-card-post-video>
    </block>
</view>
<view wx:if="{{feedsListFetchState==='fetching'}}">
    <feed-list-item-placeholder wx:for="{{2}}" wx:key="{{index}}"></feed-list-item-placeholder>
</view>
<view class="split-line bottom loading" hidden="{{feedsListFetchState==='empty'||feedsListFetchState==='exhausted'}}">
    <view class="icon"></view>
    <view class="text">正在加载...</view>
</view>
<view class="split-line bottom" wx:if="{{feedsListFetchState==='exhausted'}}">
    <view class="line"></view>
    <view class="text">没有更多动态</view>
    <view class="line"></view>
</view>
<view bind:tap="handleRetry" class="backup" wx:if="{{feedsListFetchState==='empty'}}">
    <view class="failed">暂无数据，请轻触此处重试</view>
</view>
